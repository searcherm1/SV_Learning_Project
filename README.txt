Задача: построить модель предсказания покупательской активности, чтобы удержать активность постоянных клиентов путем персонализированных предложений.
Подход к решению задачи:
1. Промаркировать уровень активности постоянных покупателей исходя из уровней: "снизилась", "прежний уровень".
2. Собрать данные по клиентам по группам:
* признаки коммуникации сотрудников компании с клиентом;
* признаки продуктового поведения покупателя;
* признаки покупательского поведения клиента;
* признаки поведения покупателя на сайте
3. Построить модель предсказания вероятности снижения покупательской активности в следующие три месяца
4. Провести исследование с учетом данных о прибыльности клиента за три месяца;
5. Используя данные модели и данные о прибыльности выделить сегменты покупателей и разработать для них персонализированные предложения.

По данным о продуктовом, финансовом и поведении на сайте, а также коммуникациях с клиентом за период времени до 3х месяцев была создана модель, предсказывающая вероятность снижения покупательной активности в следующие три месяца.
Предварительно данные были предобработаны и исследованы. Был проведен анализ корреляции и выделены ряд признаков, коррелирующие с целевым. SHAP анализ всех признаков подтвердил значимость большей части этих признаков.
Сама модель была получена путем отбора лучшей из четырех типов рассматриваемых моделей и ряда их гиперпараметров. Лучшей оказалась модель kNN  с числом соседей 6.
Был рассмотрен сегмент покупателей с высокой прибыльностью но со сниженной покупательной активность. По результатам анализа значений SHAP для признаков модели и данных об этих покупателях даны следующие рекомендации для повышения их покупательной активности:

1. повысить просмотр категорий, которыми покупатель не интересовался для привлечения его внимания путем рассылки уведомлений;
2. выслать рекомендацию покупки аксессуаров для приобретенной техники и электроники, если приобреталась посуда или текстиль - средства по уходу, чистке;
3. увеличение купленных клиентом акционных товаров, согласно расчету SHAP, приведет к снижению активности, поэтому локальные акции например на залежавшиеся в корзине неоплаченные товары могут простимулировать активность, но много их быть не должно;
4. если у клиента растет число неоплаченных покупок, то можно выслать ему напоминание о "залежавшемся в корзине товаре".